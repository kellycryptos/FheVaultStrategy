{
  "_format": "hh-sol-artifact-1",
  "contractName": "FHEVault",
  "sourceName": "contracts/FHEVault.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "ComputationFailed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "encryptedScore",
          "type": "bytes"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "StrategyComputed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "StrategySubmitted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        }
      ],
      "name": "computeStrategy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        }
      ],
      "name": "getEncryptedScore",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "_totalStrategies",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_totalComputations",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        }
      ],
      "name": "getStrategy",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "bytes",
              "name": "encryptedData",
              "type": "bytes"
            },
            {
              "internalType": "bytes32",
              "name": "dataHash",
              "type": "bytes32"
            },
            {
              "internalType": "bytes",
              "name": "encryptedScore",
              "type": "bytes"
            },
            {
              "internalType": "uint256",
              "name": "submittedAt",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "computedAt",
              "type": "uint256"
            },
            {
              "internalType": "enum FHEVault.StrategyStatus",
              "name": "status",
              "type": "uint8"
            }
          ],
          "internalType": "struct FHEVault.EncryptedStrategy",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserStrategies",
      "outputs": [
        {
          "internalType": "bytes32[]",
          "name": "",
          "type": "bytes32[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "strategies",
      "outputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "encryptedData",
          "type": "bytes"
        },
        {
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "encryptedScore",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "submittedAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "computedAt",
          "type": "uint256"
        },
        {
          "internalType": "enum FHEVault.StrategyStatus",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "encryptedData",
          "type": "bytes"
        },
        {
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        }
      ],
      "name": "submitStrategy",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "strategyId",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalComputations",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalStrategies",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userStrategies",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50611143806100206000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c8063a6a31cdd11610066578063a6a31cdd14610153578063b45f1e021461015c578063c59d48471461016f578063c98f9a311461018a578063f96d7b801461019f57600080fd5b806328c84bbd146100a35780633e9f9e49146100cc5780633ff34eb9146100ed5780635de173df1461011357806379f02fd414610133575b600080fd5b6100b66100b1366004610bfb565b6101a8565b6040516100c39190610c9c565b60405180910390f35b6100df6100da366004610d3f565b61038b565b6040519081526020016100c3565b6101006100fb366004610bfb565b6103bc565b6040516100c39796959493929190610d69565b610126610121366004610bfb565b610516565b6040516100c39190610dcd565b610146610141366004610de7565b610646565b6040516100c39190610e02565b6100df60035481565b6100df61016a366004610e46565b6106b2565b600254600354604080519283526020830191909152016100c3565b61019d610198366004610bfb565b610953565b005b6100df60025481565b6101b0610ba2565b6000828152602081905260409020600401546101e75760405162461bcd60e51b81526004016101de90610ebe565b60405180910390fd5b60008281526020818152604091829020825160e0810190935280546001600160a01b03168352600181018054919284019161022190610eea565b80601f016020809104026020016040519081016040528092919081815260200182805461024d90610eea565b801561029a5780601f1061026f5761010080835404028352916020019161029a565b820191906000526020600020905b81548152906001019060200180831161027d57829003601f168201915b50505050508152602001600282015481526020016003820180546102bd90610eea565b80601f01602080910402602001604051908101604052809291908181526020018280546102e990610eea565b80156103365780601f1061030b57610100808354040283529160200191610336565b820191906000526020600020905b81548152906001019060200180831161031957829003601f168201915b50505091835250506004820154602082015260058201546040820152600682015460609091019060ff16600381111561037157610371610c64565b600381111561038257610382610c64565b90525092915050565b600160205281600052604060002081815481106103a757600080fd5b90600052602060002001600091509150505481565b600060208190529081526040902080546001820180546001600160a01b0390921692916103e890610eea565b80601f016020809104026020016040519081016040528092919081815260200182805461041490610eea565b80156104615780601f1061043657610100808354040283529160200191610461565b820191906000526020600020905b81548152906001019060200180831161044457829003601f168201915b50505050509080600201549080600301805461047c90610eea565b80601f01602080910402602001604051908101604052809291908181526020018280546104a890610eea565b80156104f55780601f106104ca576101008083540402835291602001916104f5565b820191906000526020600020905b8154815290600101906020018083116104d857829003601f168201915b50505050600483015460058401546006909401549293909290915060ff1687565b60008181526020819052604090206004810154606091906105495760405162461bcd60e51b81526004016101de90610ebe565b6002600682015460ff16600381111561056457610564610c64565b146105b15760405162461bcd60e51b815260206004820152601860248201527f436f6d7075746174696f6e206e6f7420636f6d706c657465000000000000000060448201526064016101de565b8060030180546105c090610eea565b80601f01602080910402602001604051908101604052809291908181526020018280546105ec90610eea565b80156106395780601f1061060e57610100808354040283529160200191610639565b820191906000526020600020905b81548152906001019060200180831161061c57829003601f168201915b5050505050915050919050565b6001600160a01b0381166000908152600160209081526040918290208054835181840281018401909452808452606093928301828280156106a657602002820191906000526020600020905b815481526020019060010190808311610692575b50505050509050919050565b6000826106f85760405162461bcd60e51b8152602060048201526014602482015273456d70747920656e63727970746564206461746160601b60448201526064016101de565b816107395760405162461bcd60e51b8152602060048201526011602482015270092dcecc2d8d2c840c8c2e8c240d0c2e6d607b1b60448201526064016101de565b6002546040516107559133918791879187914291602001610f24565b60408051601f198184030181529181528151602092830120600081815292839052912060040154909150156107c45760405162461bcd60e51b815260206004820152601560248201527429ba3930ba32b3bc9024a21031b7b63634b9b4b7b760591b60448201526064016101de565b6040518060e00160405280336001600160a01b0316815260200185858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525093855250505060208083018690526040805191820181528282528301524260608301526080820181905260a090910152600082815260208181526040909120825181546001600160a01b0319166001600160a01b0390911617815590820151600182019061087e9082610fc3565b50604082015160028201556060820151600382019061089d9082610fc3565b506080820151600482015560a0820151600582015560c082015160068201805460ff191660018360038111156108d5576108d5610c64565b02179055505033600090815260016020818152604083208054928301815583528220018390556002805492509061090b83611083565b909155505060408051838152426020820152339183917f2618b267e95e0fbbbb89b20b5a2ad54ab2332be9d5c3c474556a615b4d504b7a910160405180910390a39392505050565b600081815260208190526040902060048101546109825760405162461bcd60e51b81526004016101de90610ebe565b6000600682015460ff16600381111561099d5761099d610c64565b146109ea5760405162461bcd60e51b815260206004820152601f60248201527f416c726561647920636f6d7075746564206f7220696e2070726f67726573730060448201526064016101de565b80546001600160a01b03163314610a385760405162461bcd60e51b81526020600482015260126024820152712737ba1039ba3930ba32b3bc9037bbb732b960711b60448201526064016101de565b60068101805460ff1916600190811790915581018054600091610ae191610a5e90610eea565b80601f0160208091040260200160405190810160405280929190818152602001828054610a8a90610eea565b8015610ad75780601f10610aac57610100808354040283529160200191610ad7565b820191906000526020600020905b815481529060010190602001808311610aba57829003601f168201915b5050505050610b5b565b905060038201610af18282610fc3565b5042600583015560068201805460ff1916600217905560038054906000610b1783611083565b9190505550827f64ae8aeeed8b008cae7f1407a1f5c3142057e61fb9adc63445103d1f1dfdb3548242604051610b4e9291906110aa565b60405180910390a2505050565b6060600082604051602001610b7091906110cc565b60408051808303601f190181528282528051602091820120818401528151808403909101815291810190529392505050565b6040518060e0016040528060006001600160a01b03168152602001606081526020016000801916815260200160608152602001600081526020016000815260200160006003811115610bf657610bf6610c64565b905290565b600060208284031215610c0d57600080fd5b5035919050565b60005b83811015610c2f578181015183820152602001610c17565b50506000910152565b60008151808452610c50816020860160208601610c14565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b60048110610c9857634e487b7160e01b600052602160045260246000fd5b9052565b602080825282516001600160a01b03168282015282015160e06040830152600090610ccb610100840182610c38565b9050604084015160608401526060840151601f19848303016080850152610cf28282610c38565b915050608084015160a084015260a084015160c084015260c0840151610d1b60e0850182610c7a565b509392505050565b80356001600160a01b0381168114610d3a57600080fd5b919050565b60008060408385031215610d5257600080fd5b610d5b83610d23565b946020939093013593505050565b6001600160a01b038816815260e060208201819052600090610d8d90830189610c38565b8760408401528281036060840152610da58188610c38565b9150508460808301528360a0830152610dc160c0830184610c7a565b98975050505050505050565b602081526000610de06020830184610c38565b9392505050565b600060208284031215610df957600080fd5b610de082610d23565b6020808252825182820181905260009190848201906040850190845b81811015610e3a57835183529284019291840191600101610e1e565b50909695505050505050565b600080600060408486031215610e5b57600080fd5b833567ffffffffffffffff80821115610e7357600080fd5b818601915086601f830112610e8757600080fd5b813581811115610e9657600080fd5b876020828501011115610ea857600080fd5b6020928301989097509590910135949350505050565b60208082526012908201527114dd1c985d1959de481b9bdd08199bdd5b9960721b604082015260600190565b600181811c90821680610efe57607f821691505b602082108103610f1e57634e487b7160e01b600052602260045260246000fd5b50919050565b6bffffffffffffffffffffffff198760601b1681528486601483013760149401938401929092526034830152605482015260740192915050565b634e487b7160e01b600052604160045260246000fd5b601f821115610fbe57600081815260208120601f850160051c81016020861015610f9b5750805b601f850160051c820191505b81811015610fba57828155600101610fa7565b5050505b505050565b815167ffffffffffffffff811115610fdd57610fdd610f5e565b610ff181610feb8454610eea565b84610f74565b602080601f831160018114611026576000841561100e5750858301515b600019600386901b1c1916600185901b178555610fba565b600085815260208120601f198616915b8281101561105557888601518255948401946001909101908401611036565b50858210156110735787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b6000600182016110a357634e487b7160e01b600052601160045260246000fd5b5060010190565b6040815260006110bd6040830185610c38565b90508260208301529392505050565b600082516110de818460208701610c14565b7f53494d554c415445445f4648455f434f4d5055544154494f4e0000000000000092019182525060190191905056fea2646970667358221220812cad5c6d99b733daa7d8557d14c16bb9b888b91c37530e10f01741471b9c9864736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c8063a6a31cdd11610066578063a6a31cdd14610153578063b45f1e021461015c578063c59d48471461016f578063c98f9a311461018a578063f96d7b801461019f57600080fd5b806328c84bbd146100a35780633e9f9e49146100cc5780633ff34eb9146100ed5780635de173df1461011357806379f02fd414610133575b600080fd5b6100b66100b1366004610bfb565b6101a8565b6040516100c39190610c9c565b60405180910390f35b6100df6100da366004610d3f565b61038b565b6040519081526020016100c3565b6101006100fb366004610bfb565b6103bc565b6040516100c39796959493929190610d69565b610126610121366004610bfb565b610516565b6040516100c39190610dcd565b610146610141366004610de7565b610646565b6040516100c39190610e02565b6100df60035481565b6100df61016a366004610e46565b6106b2565b600254600354604080519283526020830191909152016100c3565b61019d610198366004610bfb565b610953565b005b6100df60025481565b6101b0610ba2565b6000828152602081905260409020600401546101e75760405162461bcd60e51b81526004016101de90610ebe565b60405180910390fd5b60008281526020818152604091829020825160e0810190935280546001600160a01b03168352600181018054919284019161022190610eea565b80601f016020809104026020016040519081016040528092919081815260200182805461024d90610eea565b801561029a5780601f1061026f5761010080835404028352916020019161029a565b820191906000526020600020905b81548152906001019060200180831161027d57829003601f168201915b50505050508152602001600282015481526020016003820180546102bd90610eea565b80601f01602080910402602001604051908101604052809291908181526020018280546102e990610eea565b80156103365780601f1061030b57610100808354040283529160200191610336565b820191906000526020600020905b81548152906001019060200180831161031957829003601f168201915b50505091835250506004820154602082015260058201546040820152600682015460609091019060ff16600381111561037157610371610c64565b600381111561038257610382610c64565b90525092915050565b600160205281600052604060002081815481106103a757600080fd5b90600052602060002001600091509150505481565b600060208190529081526040902080546001820180546001600160a01b0390921692916103e890610eea565b80601f016020809104026020016040519081016040528092919081815260200182805461041490610eea565b80156104615780601f1061043657610100808354040283529160200191610461565b820191906000526020600020905b81548152906001019060200180831161044457829003601f168201915b50505050509080600201549080600301805461047c90610eea565b80601f01602080910402602001604051908101604052809291908181526020018280546104a890610eea565b80156104f55780601f106104ca576101008083540402835291602001916104f5565b820191906000526020600020905b8154815290600101906020018083116104d857829003601f168201915b50505050600483015460058401546006909401549293909290915060ff1687565b60008181526020819052604090206004810154606091906105495760405162461bcd60e51b81526004016101de90610ebe565b6002600682015460ff16600381111561056457610564610c64565b146105b15760405162461bcd60e51b815260206004820152601860248201527f436f6d7075746174696f6e206e6f7420636f6d706c657465000000000000000060448201526064016101de565b8060030180546105c090610eea565b80601f01602080910402602001604051908101604052809291908181526020018280546105ec90610eea565b80156106395780601f1061060e57610100808354040283529160200191610639565b820191906000526020600020905b81548152906001019060200180831161061c57829003601f168201915b5050505050915050919050565b6001600160a01b0381166000908152600160209081526040918290208054835181840281018401909452808452606093928301828280156106a657602002820191906000526020600020905b815481526020019060010190808311610692575b50505050509050919050565b6000826106f85760405162461bcd60e51b8152602060048201526014602482015273456d70747920656e63727970746564206461746160601b60448201526064016101de565b816107395760405162461bcd60e51b8152602060048201526011602482015270092dcecc2d8d2c840c8c2e8c240d0c2e6d607b1b60448201526064016101de565b6002546040516107559133918791879187914291602001610f24565b60408051601f198184030181529181528151602092830120600081815292839052912060040154909150156107c45760405162461bcd60e51b815260206004820152601560248201527429ba3930ba32b3bc9024a21031b7b63634b9b4b7b760591b60448201526064016101de565b6040518060e00160405280336001600160a01b0316815260200185858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525093855250505060208083018690526040805191820181528282528301524260608301526080820181905260a090910152600082815260208181526040909120825181546001600160a01b0319166001600160a01b0390911617815590820151600182019061087e9082610fc3565b50604082015160028201556060820151600382019061089d9082610fc3565b506080820151600482015560a0820151600582015560c082015160068201805460ff191660018360038111156108d5576108d5610c64565b02179055505033600090815260016020818152604083208054928301815583528220018390556002805492509061090b83611083565b909155505060408051838152426020820152339183917f2618b267e95e0fbbbb89b20b5a2ad54ab2332be9d5c3c474556a615b4d504b7a910160405180910390a39392505050565b600081815260208190526040902060048101546109825760405162461bcd60e51b81526004016101de90610ebe565b6000600682015460ff16600381111561099d5761099d610c64565b146109ea5760405162461bcd60e51b815260206004820152601f60248201527f416c726561647920636f6d7075746564206f7220696e2070726f67726573730060448201526064016101de565b80546001600160a01b03163314610a385760405162461bcd60e51b81526020600482015260126024820152712737ba1039ba3930ba32b3bc9037bbb732b960711b60448201526064016101de565b60068101805460ff1916600190811790915581018054600091610ae191610a5e90610eea565b80601f0160208091040260200160405190810160405280929190818152602001828054610a8a90610eea565b8015610ad75780601f10610aac57610100808354040283529160200191610ad7565b820191906000526020600020905b815481529060010190602001808311610aba57829003601f168201915b5050505050610b5b565b905060038201610af18282610fc3565b5042600583015560068201805460ff1916600217905560038054906000610b1783611083565b9190505550827f64ae8aeeed8b008cae7f1407a1f5c3142057e61fb9adc63445103d1f1dfdb3548242604051610b4e9291906110aa565b60405180910390a2505050565b6060600082604051602001610b7091906110cc565b60408051808303601f190181528282528051602091820120818401528151808403909101815291810190529392505050565b6040518060e0016040528060006001600160a01b03168152602001606081526020016000801916815260200160608152602001600081526020016000815260200160006003811115610bf657610bf6610c64565b905290565b600060208284031215610c0d57600080fd5b5035919050565b60005b83811015610c2f578181015183820152602001610c17565b50506000910152565b60008151808452610c50816020860160208601610c14565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b60048110610c9857634e487b7160e01b600052602160045260246000fd5b9052565b602080825282516001600160a01b03168282015282015160e06040830152600090610ccb610100840182610c38565b9050604084015160608401526060840151601f19848303016080850152610cf28282610c38565b915050608084015160a084015260a084015160c084015260c0840151610d1b60e0850182610c7a565b509392505050565b80356001600160a01b0381168114610d3a57600080fd5b919050565b60008060408385031215610d5257600080fd5b610d5b83610d23565b946020939093013593505050565b6001600160a01b038816815260e060208201819052600090610d8d90830189610c38565b8760408401528281036060840152610da58188610c38565b9150508460808301528360a0830152610dc160c0830184610c7a565b98975050505050505050565b602081526000610de06020830184610c38565b9392505050565b600060208284031215610df957600080fd5b610de082610d23565b6020808252825182820181905260009190848201906040850190845b81811015610e3a57835183529284019291840191600101610e1e565b50909695505050505050565b600080600060408486031215610e5b57600080fd5b833567ffffffffffffffff80821115610e7357600080fd5b818601915086601f830112610e8757600080fd5b813581811115610e9657600080fd5b876020828501011115610ea857600080fd5b6020928301989097509590910135949350505050565b60208082526012908201527114dd1c985d1959de481b9bdd08199bdd5b9960721b604082015260600190565b600181811c90821680610efe57607f821691505b602082108103610f1e57634e487b7160e01b600052602260045260246000fd5b50919050565b6bffffffffffffffffffffffff198760601b1681528486601483013760149401938401929092526034830152605482015260740192915050565b634e487b7160e01b600052604160045260246000fd5b601f821115610fbe57600081815260208120601f850160051c81016020861015610f9b5750805b601f850160051c820191505b81811015610fba57828155600101610fa7565b5050505b505050565b815167ffffffffffffffff811115610fdd57610fdd610f5e565b610ff181610feb8454610eea565b84610f74565b602080601f831160018114611026576000841561100e5750858301515b600019600386901b1c1916600185901b178555610fba565b600085815260208120601f198616915b8281101561105557888601518255948401946001909101908401611036565b50858210156110735787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b6000600182016110a357634e487b7160e01b600052601160045260246000fd5b5060010190565b6040815260006110bd6040830185610c38565b90508260208301529392505050565b600082516110de818460208701610c14565b7f53494d554c415445445f4648455f434f4d5055544154494f4e0000000000000092019182525060190191905056fea2646970667358221220812cad5c6d99b733daa7d8557d14c16bb9b888b91c37530e10f01741471b9c9864736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
